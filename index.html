<!doctype html>
<html lang="zh-Hans">
<head>
  <base href="/REPO_NAME/">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>å·¥ä½èŒä¼´å›­</title>
  <meta name="theme-color" content="#7cd1b8">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="apple-touch-icon" href="./assets/icons/apple-touch-icon.png">
  <link rel="manifest" href="manifest.webmanifest">
  <link rel="stylesheet" href="style.css?v=0.3.3">
</head>
<body>
  <header>
    <img src="./assets/logo/title.png" alt="å·¥ä½èŒä¼´å›­" class="title-logo">

  </header>

  <main>
    <!-- Today -->
 <section id="view-today" class="view">
  <!-- Clock in -->
  <div class="card">
    <div id="clockin-area">
      <button id="clockin-btn" class="primary"><span id="t-clockIn">æ‰“å¡ Clock In</span></button>
      <p id="clocked-text" class="muted hidden"></p>
      <p class="muted small" id="t-clockInHint">æ‰“å¡å³é€1ä¸ªç›²ç›’ | Clock in grants 1 blind box</p>
    </div>
  </div>

  <!-- Tasks -->
  <div class="card">
    <h2 id="t-tasks">ä»»åŠ¡ Tasks</h2>
    <div class="row-4">
      <input id="task-input" placeholder="ä»»åŠ¡æ ‡é¢˜ / Task Title">
      <input id="task-date" type="date" title="æˆªæ­¢æ—¥æœŸ / Due date">
      <button id="task-add" class="secondary"><span id="t-addTask">æ·»åŠ ä»»åŠ¡ Add</span></button>
    </div>
    <ul id="task-list" class="tasks"></ul>
    <p id="backlog-note" class="muted small hidden"></p>
    <p class="muted small" id="t-progressHint">ä¸ºå¤§å‹ä»»åŠ¡è®¾å®šâ€œä»Šæ—¥ç›®æ ‡ç™¾åˆ†æ¯”â€ï¼›è¾¾åˆ°ç›®æ ‡è®¡ä¸ºå®Œæˆã€‚</p>
  </div>

  <!-- End of day -->
  <div class="card end-panel">
    <button id="endday-btn" class="accent" disabled>ç»“æŸä¸€å¤©å¹¶å¼€å¯ 0 ä¸ªç›²ç›’</button>
    <p class="muted small" id="t-endRules">è§„åˆ™ï¼šæ‰“å¡å³é€1ä¸ªï¼› å…¨å®Œæˆå¾—2ä¸ªï¼› éƒ¨åˆ†å®Œæˆå¾—1ä¸ªï¼› æœªå®Œæˆå¾—0ä¸ªã€‚</p>
  </div>
</section>

    <!-- Binder -->
    <section id="view-binder" class="view">
      <div id="binder-empty" class="empty">è¿˜æ²¡æœ‰æ”¶è—å“¦ No collectibles yet</div>
      <div id="binder" class="binder hidden">
        <button class="page prev" id="binder-prev">â€¹</button>
        <div class="spread">
          <div class="page left">
            <div class="slot" id="binder-slot-0"></div>
            <div class="slot" id="binder-slot-1"></div>
            <div class="slot" id="binder-slot-2"></div>
            <div class="slot" id="binder-slot-3"></div>
          </div>
          <div class="page right">
            <div class="slot" id="binder-slot-4"></div>
            <div class="slot" id="binder-slot-5"></div>
            <div class="slot" id="binder-slot-6"></div>
            <div class="slot" id="binder-slot-7"></div>
          </div>
        </div>
        <button class="page next" id="binder-next">â€º</button>
      </div>
    </section>

    <!-- Desk -->
<section id="view-desk" class="view active">
  <div class="card desk-card">
    <!-- Game scene -->
    <div class="desk-scene">
      <img src="./assets/logo/title.png" alt="å·¥ä½èŒä¼´å›­" class="scene-logo">

      <!-- Sticky note CTA to Today -->
      <a id="note-today" class="wall-note" href="#" title="ä»Šæ—¥ä»»åŠ¡">ä»Šæ—¥ä»»åŠ¡</a>

      <!-- Left shelf -->
      <div class="desk-slot" data-slot="0" style="--x:12%; --y:11%; --w:24%; --h:20%;">
        <div class="desk-item" id="desk-item-0"></div>
      </div>
      <!-- Right shelf -->
      <div class="desk-slot" data-slot="1" style="--x:64%; --y:7%; --w:24%; --h:20%;">
        <div class="desk-item" id="desk-item-1"></div>
      </div>
      <!-- Desk surface (left side) -->
      <div class="desk-slot" data-slot="2" style="--x:6%; --y:45%; --w:28%; --h:18%;">
        <div class="desk-item" id="desk-item-2"></div>
      </div>

      <!-- Controls overlay -->
      <div class="desk-overlay">
        <div class="slot-pills">
          <button class="pill active" id="slot-0">æ§½ä½1</button>
          <button class="pill" id="slot-1">æ§½ä½2</button>
          <button class="pill" id="slot-2">æ§½ä½3</button>
        </div>
        <select id="desk-source"></select>
        <button id="desk-place" class="primary">æ”¾åˆ°æ¡Œé¢</button>
      </div>
    </div>

    <p class="muted small" id="t-deskHint">ä»æ”¶è—é€‰æ‹©3ä¸ªå±•ç¤ºåˆ°â€œå·¥ä½â€ã€‚</p>
  </div>
</section>


    <!-- Settings -->
    <section id="view-settings" class="view">
      <div class="card">
        <h2 id="t-demo">æ¼”ç¤º Demo</h2>
        <button id="reset-btn" class="danger" style="margin-bottom:8px;">é‡ç½®ï¼ˆæ¸…ç©ºä»»åŠ¡/ç›²ç›’/æ”¶è—ï¼‰</button>
        <button id="gift-10" class="secondary">ç»™æˆ‘10ä¸ªéšæœºæ”¶è—ï¼ˆæ¼”ç¤ºç”¨ï¼‰</button>
      </div>
      <div class="card">
        <h2 id="t-about">å…³äº About</h2>
        <p class="muted">å·¥ä½èŒä¼´å›­ v0.3 â€” prototype</p>
      </div>
    </section>
  </main>
  <!-- Dev Time (minimal helper UI) -->
<div class="card" id="devtime-card">
  <h2>å¼€å‘æ—¶é—´ / Dev Time</h2>
  <div class="row">
    <input id="dev-dt" type="datetime-local" title="æ¨¡æ‹Ÿç°åœ¨ / Fake now">
    <button id="dev-set" class="secondary">è®¾ç½® Set</button>
  </div>
  <div class="row" style="margin-top:8px;">
    <button id="dev-clear" class="danger">æ¸…é™¤æ¨¡æ‹Ÿæ—¶é—´ / Use Real Time</button>
    <p id="dev-now-state" class="muted small" style="margin:8px 0 0 8px;"></p>
  </div>
</div>


  <!-- Reveal modal -->
  <dialog id="reveal">
    <div class="reveal-card">
      <h3 id="reveal-title">è·å¾—æ–°è—å“ï¼</h3>
      <div class="reveal-art" id="reveal-art">ğŸ</div>
      <div class="tags">
        <span id="reveal-rarity" class="tag"></span>
        <span id="reveal-type" class="tag"></span>
      </div>
      <p class="muted" id="reveal-name"></p>
      <div class="row">
        <button id="reveal-share" class="secondary">åˆ†äº« Share</button>
        <button id="reveal-close" class="primary">å¥½çš„ Nice!</button>
      </div>
    </div>
  </dialog>

  <footer>
    <small>Â© å·¥ä½èŒä¼´å›­</small>
  </footer>

  <script src="lang.js"></script>
  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js?v=17')
);
    }
  </script>
<!-- Bottom Dock Tabs -->
<nav class="dock">
  <button id="tab-today"><span id="t-tabToday">ä»Šæ—¥ä»»åŠ¡</span></button>
  <button id="tab-binder"><span id="t-tabBinder">æ”¶è—å†Œ</span></button>
  <button id="tab-desk" class="active"><span id="t-tabDesk">æ¡Œé¢å±•ç¤º</span></button>
  <button id="tab-settings"><span id="t-tabSettings">è®¾ç½®</span></button>
</nav>
<script>
  // DEV ONLY: force SW off so CSS/HTML updates apply immediately
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.getRegistrations().then(rs => rs.forEach(r => r.unregister()));
  }
</script>
<style id="overlay-click-hotfix">
  /* Make the controls bar always clickable and on top */
  .desk-overlay {
    position: fixed !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
    bottom: calc(var(--dock-h) + var(--safe-b) + 8px) !important;
    z-index: 2147483647 !important;
    pointer-events: auto !important;
  }
  .desk-overlay * { pointer-events: auto !important; }

  /* Ensure invisible scene elements never eat taps */
  .desk-scene .desk-slot,
  .desk-scene .scene-logo,
  .desk-scene .wall-note {
    pointer-events: none !important;
  }
</style>
<style>
  /* Re-enable the sticky note */
  .desk-scene .wall-note {
    pointer-events: auto !important;
    z-index: 2001;                     /* sits above scene/overlay just in case */
  }
  
</style>

</body>
</html>
